!function(){"use strict";var e={n:function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,{a:a}),a},d:function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,a=window.wp.i18n,n=window.React,l=e.n(n);class r extends l().Component{constructor(e){super(e),this.state={tableTitle:"",tableData:{}}}render(){const e=this.props.tableTitle?this.props.tableTitle:this.state.tableTitle,n=this.props.tableData?this.props.tableData:this.state.tableData;return(0,t.createElement)("div",{className:"sm-api-table"},e?(0,t.createElement)("h2",null,e):"",n?.headers&&n?.rows?(0,t.createElement)("table",null,(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,n.headers.map(((e,a)=>(0,t.createElement)("th",{key:a},e))))),(0,t.createElement)("tbody",null,Object.keys(n.rows).map(((e,a)=>(0,t.createElement)("tr",{key:a},Object.keys(n.rows[e]).map(((a,l)=>(0,t.createElement)("td",{key:l},n.rows[e][a])))))))):(0,t.createElement)("p",null,(0,a.__)("Loading...","sm-api-block")))}}var o=r,s=window.wp.apiFetch,c=e.n(s),i=window.wp.url;window.addEventListener("load",(()=>{const e=smApiBlock.parentClass,a=smApiBlock.endpointURL;document.querySelectorAll(`.${e}`).forEach((e=>{const n=e.getAttribute("data-columns").split(",");((e,t,a)=>{const n=t?{columns:t}:{},l=(0,i.addQueryArgs)(e,n);c()({path:l}).then((e=>{const t=e.data;a(t)}))})(a,n,(a=>{ReactDOM.render((0,t.createElement)(o,{tableTitle:a.title,tableData:a.filtered_data}),e)}))}))}))}();